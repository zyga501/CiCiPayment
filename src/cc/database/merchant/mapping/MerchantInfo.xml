<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cc.database.merchant.mapping.merchantInfo">
    <select id="getMerchantInfoByMap" parameterType="java.util.HashMap" resultMap="merchantInfoResult">
        SELECT * FROM merchantInfo  <where><if test="null!=id">id=#{id}</if><if test="null!=openid"> and openid=#{openid}</if>
        <if test="null!=idlist"> and id in
            <foreach item="item" index="index" collection="idlist" open="(" separator="," close=")">
                #{item}
            </foreach>
        </if></where>
    </select>

    <select id="getMerchantInfoById" parameterType="long" resultMap="merchantInfoResult">
        SELECT * FROM merchantinfo where id=#{id}
    </select>

    <update id="updateMerchantPayMethodId" parameterType="java.util.HashMap">
        UPDATE merchantinfo
        SET payMethodId=#{payMethodId}
        where id = #{id}
    </update>

    <insert id="insertMerchantInfo" parameterType="cc.database.merchant.MerchantInfo">
        INSERT INTO merchantinfo(id,name,address,contactName,contactPhone,idCard,
        paymentStatus,wxStatus,wxRate,aliStatus,aliRate,jdStatus,jdRate,bestStatus,bestRate,
        bankCity,bankName,bankGeneralName,bankCode,accountNo,accountName,accountPhone,
        openid,payMethodId,externInfo)
        VALUE (#{id},#{name},#{address},#{contactName},#{contactPhone},#{idCard},
        #{paymentStatus},#{wxStatus},#{wxRate},#{aliStatus},#{aliRate},#{jdStatus},#{jdRate},#{bestStatus},#{bestRate},
        #{bankCity},#{bankCode},#{bankName},#{bankGeneralName},#{accountNo},#{accountName},#{accountPhone},
        #{openid},#{payMethodId},#{externInfo})
    </insert>

    <resultMap type="cc.database.merchant.MerchantInfo" id="merchantInfoResult">
        <id property="id" column="id" jdbcType="BIGINT" />
        <result property="name" column="name" jdbcType="VARCHAR" />
        <result property="address" column="address" jdbcType="VARCHAR" />
        <result property="contactPhone" column="contactPhone" jdbcType="VARCHAR" />
        <result property="idCard" column="idCard" jdbcType="VARCHAR" />
        <result property="registerDate" column="registerDate" jdbcType="TIMESTAMP" />
        <result property="paymentStatus" column="paymentStatus" jdbcType="TINYINT" />
        <result property="wxStatus" column="wxStatus" jdbcType="TINYINT" />
        <result property="wxRate" column="wxRate" jdbcType="FLOAT" />
        <result property="aliStatus" column="aliStatus" jdbcType="TINYINT" />
        <result property="aliRate" column="aliRate" jdbcType="FLOAT" />
        <result property="jdStatus" column="jdStatus" jdbcType="TINYINT" />
        <result property="jdRate" column="jdRate" jdbcType="FLOAT" />
        <result property="bestStatus" column="bestStatus" jdbcType="TINYINT" />
        <result property="bestRate" column="bestRate" jdbcType="FLOAT" />
        <result property="bankCity" column="bankCity" jdbcType="VARCHAR" />
        <result property="bankName" column="bankName" jdbcType="VARCHAR" />
        <result property="bankGeneralName" column="bankGeneralName" jdbcType="VARCHAR" />
        <result property="bankCode" column="bankCode" jdbcType="VARCHAR" />
        <result property="accountCode" column="accountCode" jdbcType="VARCHAR" />
        <result property="accountName" column="accountName" jdbcType="VARCHAR" />
        <result property="accountPhone" column="accountPhone" jdbcType="VARCHAR" />
        <result property="openid" column="openid" jdbcType="VARCHAR" />
        <result property="payMethodId" column="payMethodId" jdbcType="BIGINT" />
        <result property="externInfo" column="externInfo" jdbcType="VARCHAR" />
    </resultMap>
</mapper>
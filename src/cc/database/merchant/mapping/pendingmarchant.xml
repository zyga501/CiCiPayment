<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cc.database.merchant.mapping.pendingmerchant">
    <select id="getpendingmerchant" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        SELECT * FROM pendingmerchant
        <where> <if  test="openid!=null">openid=#{openid}</if>
            <if test="cid!=null">and  cardid  =${cid} </if>
            <if test="item!=null"> and (store like  CONCAT('%','${item}','%' )
                or   tel like   CONCAT('%','${item}','%' )
                or cardid  like  CONCAT('%','${item}','%' ))  </if>
            <if test="status!=null">and status=#{status}</if>
        </where>
    </select>

    <select id="insertpendingmerchant" parameterType="java.util.HashMap" resultType="java.util.HashMap">
        insert into  pendingmerchant  ( openid,cardid) values (#{openid} ,#{cid})
    </select>

    <select id="updpendingmerchant" parameterType="java.util.HashMap" >
        update pendingmerchant <set>
        <if test="store!=null">   store=#{store} ,</if>
        <if test="address!=null">   address=#{address} ,</if>
        <if test="contact!=null">   contact=#{contact} ,</if>
        <if test="tel!=null">   tel=#{tel} ,</if>
        <if test="idcardno!=null">   idcardno=#{idcardno} ,</if>
        <if test="picidcardz!=null">   picidcardz=#{picidcardz} ,</if>
        <if test="picidcardf!=null">   picidcardf=#{picidcardf} ,</if>
        <if test="pichandidcard!=null">   pichandidcard=#{pichandidcard} ,</if>
        <if test="regdate!=null">   regdate=#{regdate} ,</if>
        <if test="canpay!=null">   canpay=#{canpay} ,</if>
        <if test="wxpay!=null">   wxpay=#{wxpay} ,</if>
        <if test="alipay!=null">   alipay=#{alipay} ,</if>
        <if test="jdpay!=null">   jdpay=#{jdpay} ,</if>
        <if test="bestpay!=null">   bestpay=#{bestpay} ,</if>
        <if test="wxrate!=null">   wxrate=#{wxrate} ,</if>
        <if test="alirate!=null">   alirate=#{alirate} ,</if>
        <if test="jdrarte!=null">   jdrarte=#{jdrarte} ,</if>
        <if test="bestrate!=null">   bestrate=#{bestrate} ,</if>
        <if test="city!=null">   city=#{city} ,</if>
        <if test="bank!=null">   bank=#{bank} ,</if>
        <if test="contactnum!=null">   contactnum=#{contactnum} ,</if>
        <if test="acountcode!=null">   acountcode=#{acountcode} ,</if>
        <if test="acountname!=null">   acountname=#{acountname} ,</if>
        <if test="status!=null">   status=#{status} ,</if>
    </set>
        where openid=#{openid} and cardid=#{cid}
    </select>
</mapper>